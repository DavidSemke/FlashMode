{% extends "core/layouts/study_session_base.html" %}

{% block bottombar %}
    <c-nav.bottombar x-data="{ sessionIncomplete: true }" @session-completed.window="sessionIncomplete = false">
        <form hx-post="{% url 'study_sessions:response' study_session_id %}" hx-trigger='delay:500ms' x-cloak x-show="sessionIncomplete" class='flex justify-around w-full'>
            {% csrf_token %}
            <button type='submit' value='error' name='response_type' @click="$dispatch('error-response')" class='basis-1/3 md:basis-auto btn btn-error md:btn-wide'>
                <c-svg.x_icon class='size-6' />
                <span class='hidden sm:inline'>Forgot</span>
            </button>
            <button type='submit' value='success' name='response_type' @click="$dispatch('success-response')" class='basis-1/3 md:basis-auto btn btn-error md:btn-wide'>
                <c-svg.check_icon class='size-6' />
                <span class='hidden sm:inline'>Remembered</span>
            </button>
        </form>
        <div x-cloak x-show="!sessionIncomplete" class='flex justify-center w-full'>
            <a href="{% url 'decks:deck_play' deck_id %}" class='btn btn-primary btn-wide'>Retry</a>
        </div>
    </c-nav.bottombar>
{% endblock %}
